<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product | KPK Botanicals</title>
    <meta name="description"
        content="Handcrafted artisanal soap by KPK Botanicals. Natural ingredients, small-batch, made in Sacramento.">
    <link rel="icon" type="image/png" href="assets/images/kpk_botanicals_logo_1771215052715.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;1,400&family=Inter:wght@300;400;500&family=Playfair+Display:wght@400;600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="assets/css/styles.css">
    <style>
        .product-detail {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: start;
        }

        @media (max-width: 768px) {
            .product-detail {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
        }

        .product-detail-img {
            width: 100%;
            border-radius: var(--radius-md);
            background-color: var(--color-linen);
        }

        .scent-notes {
            display: flex;
            gap: 1.5rem;
            margin: 1.5rem 0;
        }

        .scent-note {
            flex: 1;
            text-align: center;
            padding: 1rem;
            background: var(--color-linen);
            border-radius: var(--radius-md);
        }

        .scent-note-label {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--color-gray);
            margin-bottom: 0.3rem;
        }

        .scent-note-value {
            font-family: var(--font-accent);
            font-style: italic;
            font-size: 1rem;
            color: var(--color-charcoal);
        }

        .detail-section {
            padding: 1rem 0;
            border-top: 1px solid var(--color-linen);
        }

        .detail-section h4 {
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--color-gray);
            margin-bottom: 0.5rem;
        }

        .related-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
        }
    </style>
</head>

<body>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="container flex flex-between">
            <a href="index.html" class="logo-container">
                <span
                    style="font-family: var(--font-heading); font-size: 1.5rem; font-weight: 600; letter-spacing: 0.05em;">KPK
                    BOTANICALS</span>
            </a>
            <div class="hidden-mobile">
                <ul class="flex">
                    <li><a href="index.html" class="nav-link">Home</a></li>
                    <li><a href="shop.html" class="nav-link">Shop</a></li>
                    <li><a href="about.html" class="nav-link">Our Story</a></li>
                    <li><a href="contact.html" class="nav-link">Contact</a></li>
                </ul>
            </div>
            <button class="btn btn-outline" style="padding: 0.5rem; border: none;"
                onclick="document.querySelector('.mobile-menu').classList.toggle('active')">Menu</button>
        </div>
    </nav>
    <div class="mobile-menu">
        <ul class="flex flex-col" style="text-align: center; gap: 2rem;">
            <li><a href="index.html" class="heading-md">Home</a></li>
            <li><a href="shop.html" class="heading-md">Shop</a></li>
            <li><a href="about.html" class="heading-md">Our Story</a></li>
            <li><a href="contact.html" class="heading-md">Contact</a></li>
            <li><button class="btn btn-outline"
                    onclick="document.querySelector('.mobile-menu').classList.remove('active')">Close</button></li>
        </ul>
    </div>

    <!-- Breadcrumb -->
    <div style="background: var(--color-white); padding: 1rem 0; border-bottom: 1px solid var(--color-linen);">
        <div class="container"
            style="padding-top: 2rem; padding-bottom: 1rem; font-size: 0.9rem; color: var(--color-gray);">
            <a href="index.html">Home</a> <span style="margin: 0 0.5rem; opacity: 0.5;">/</span> <a
                href="shop.html">Shop</a> <span style="margin: 0 0.5rem; opacity: 0.5;">/</span> <span
                id="breadcrumb-current" style="color: var(--color-terracotta);"></span>
        </div>
    </div>

    <!-- Product Detail -->
    <section class="section">
        <div class="container">
            <div class="product-detail" id="product-detail">
                <p style="color: var(--color-gray);">Loading product...</p>
            </div>
        </div>
    </section>

    <!-- Related Products -->
    <section class="section" style="background: var(--color-white);">
        <div class="container">
            <h2 class="heading-md" style="margin-bottom: 2rem;">You Might Also Love</h2>
            <div id="related-products" class="related-grid"></div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container grid grid-3" style="align-items: start;">
            <div>
                <h4 class="heading-sm" style="color: var(--color-honey); margin-bottom: 1rem;">KPK Botanicals</h4>
                <p style="opacity: 0.7; font-size: 0.9rem; max-width: 30ch;">Small-batch artisanal soaps made with care
                    and heritage.</p>
            </div>
            <div>
                <h4 class="heading-sm" style="color: var(--color-white); margin-bottom: 1rem;">Shop</h4>
                <ul style="display: flex; flex-direction: column; gap: 0.5rem; opacity: 0.8;">
                    <li><a href="shop.html">All Products</a></li>
                    <li><a href="contact.html?type=wholesale">Wholesale</a></li>
                    <li><a href="faq.html">FAQ & Shipping</a></li>
                </ul>
            </div>
            <div>
                <h4 class="heading-sm" style="color: var(--color-white); margin-bottom: 1rem;">Connect</h4>
                <ul style="display: flex; flex-direction: column; gap: 0.5rem; opacity: 0.8;">
                    <li><a href="contact.html">Contact Us</a></li>
                    <li><a href="https://instagram.com" target="_blank">Instagram</a></li>
                    <li><a href="mailto:hello@kpkbotanicals.com">Email Us</a></li>
                </ul>
            </div>
        </div>
        <div class="container"
            style="border-top: 1px solid rgba(255,255,255,0.1); margin-top: 3rem; padding-top: 1.5rem; text-align: center; font-size: 0.8rem; opacity: 0.5;">
            &copy; 2026 KPK Botanicals. All rights reserved.
        </div>
    </footer>

    <script src="assets/js/products.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const params = new URLSearchParams(window.location.search);
            const productId = params.get('id');
            const product = getProductById(productId);
            const container = document.getElementById('product-detail');

            if (!product) {
                container.innerHTML = '<p>Product not found. <a href="shop.html" style="color: var(--color-terracotta);">Return to shop</a></p>';
                return;
            }

            // Update page title & breadcrumb
            document.title = `${product.name} | KPK Botanicals`;
            document.getElementById('breadcrumb-name').textContent = product.name;

            // Inject JSON-LD for this product
            const schemaScript = document.createElement('script');
            schemaScript.type = 'application/ld+json';
            schemaScript.textContent = JSON.stringify({
                "@context": "https://schema.org",
                "@type": "Product",
                "name": product.name,
                "image": window.location.origin + '/' + product.image,
                "description": product.longDescription,
                "brand": { "@type": "Brand", "name": "KPK Botanicals" },
                "offers": {
                    "@type": "Offer",
                    "price": "0",
                    "priceCurrency": "USD",
                    "availability": product.soldOut ? "https://schema.org/OutOfStock" : "https://schema.org/InStock"
                }
            });
            document.head.appendChild(schemaScript);

            container.innerHTML = `
                <div>
                    <img src="${product.image}" alt="${product.name}" class="product-detail-img">
                </div>
                <div>
                    <span class="font-accent" style="color: var(--color-terracotta); font-size: 0.95rem;">KPK Botanicals</span>
                    <h1 class="heading-lg" style="margin: 0.25rem 0 0.5rem;">${product.name}</h1>
                    <p class="product-price" style="font-size: 1.5rem; margin-bottom: 1.5rem;">${product.price}</p>
                    
                    <p style="color: var(--color-gray); line-height: 1.7; margin-bottom: 1.5rem;">
                        ${product.longDescription}
                    </p>

                    <a href="#" class="btn btn-primary" style="width: 100%; text-align: center; margin-bottom: 0.75rem;" 
                       onclick="alert('Shop opening soon! Contact us to pre-order.'); return false;">
                        ${product.soldOut ? 'Sold Out' : 'Buy Now'}
                    </a>
                    <a href="contact.html" class="btn btn-outline" style="width: 100%; text-align: center;">
                        Contact to Pre-Order
                    </a>

                    <!-- Scent Notes -->
                    <div style="margin-top: 2rem;">
                        <h4 style="font-size: 0.8rem; text-transform: uppercase; letter-spacing: 0.1em; color: var(--color-gray); margin-bottom: 0.75rem;">Scent Profile</h4>
                        <div class="scent-notes">
                            <div class="scent-note">
                                <div class="scent-note-label">Top</div>
                                <div class="scent-note-value">${product.scentNotes.top}</div>
                            </div>
                            <div class="scent-note">
                                <div class="scent-note-label">Middle</div>
                                <div class="scent-note-value">${product.scentNotes.middle}</div>
                            </div>
                            <div class="scent-note">
                                <div class="scent-note-label">Base</div>
                                <div class="scent-note-value">${product.scentNotes.base}</div>
                            </div>
                        </div>
                    </div>

                    <!-- Ingredients -->
                    <div class="detail-section">
                        <h4>Ingredients</h4>
                        <p style="font-size: 0.9rem; color: var(--color-gray);">${product.ingredients}</p>
                    </div>

                    <!-- Weight -->
                    <div class="detail-section">
                        <h4>Size</h4>
                        <p style="font-size: 0.9rem; color: var(--color-gray);">${product.weight} / hand-cut rectangular bar</p>
                    </div>

                    <!-- Shipping -->
                    <div class="detail-section">
                        <h4>Shipping</h4>
                        <p style="font-size: 0.9rem; color: var(--color-gray);">Flat rate shipping / Ships from Sacramento, CA</p>
                    </div>
                </div>
            `;

            // Related products (all except current)
            const related = products.filter(p => p.id !== product.id).slice(0, 3);
            const relatedContainer = document.getElementById('related-products');
            relatedContainer.innerHTML = related.map(createProductCard).join('');
        });
    </script>
</body>

</html>